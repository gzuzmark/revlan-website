---
import Icon from "./Icon.astro";
import Link from "./ui/LinkOrButton.astro";
import { t } from "i18next";
import { Trans } from "astro-i18next/components";
import { localizePath } from "astro-i18next";
import { Image } from "astro:assets";
import heroBook from "../assets/hero-book-now.webp";
---

<section id="book" class="text-gray-600 body-font with-background">
  <div
    class="container mx-auto flex px-5 pt-24 pb-0 md:flex-row flex-col items-center">
    <div
      class="lg:flex-grow md:w-1/2 lg:pr-12 md:pr-16 flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center">
      <h2
        class="text-xs text-black tracking-widest font-medium title-font mb-1">
        {t("home.booknow.section")}
      </h2>
      <h1
        class="title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900">
        <Trans i18nKey="home.booknow.title">
          <span class="text-primary">Book your spot now</span>
        </Trans>
        <br class="hidden lg:inline-block" />{t("home.booknow.subtitle")}
      </h1>
      <p class="mb-8 leading-relaxed">
        {t("home.booknow.text")}
      </p>
      <div class="flex justify-center">
        <Link
          href={localizePath("/contact")}
          target="_self"
          class="flex gap-1 items-center justify-center"
          rel="noopener">
          {t("home.booknow.cta")}
          <Icon icon="calendar" size="1.2em" />
        </Link>
      </div>
    </div>
    <div class="lg:max-w-lg lg:w-full md:w-1/2 w-5/6">
      <!-- <img
        class="object-cover object-center rounded"
        alt="hero"
        src="/assets/hero-book-now.png"
      /> -->
      <Image
        src={heroBook}
        alt='hero image'
        class='object-cover object-center rounded'
      />
    </div>
  </div>
</section>

<style>
  .with-background {
    position: relative;
  }

  .with-background::before {
    --hero-bg: var(--bg-image-secondary-rainbow);

    content: "";
    position: absolute;
    pointer-events: none;
    left: 50%;
    width: 100vw;
    transform: scale(0.9);
    aspect-ratio: calc(1.5 / var(--bg-scale));
    top: 0;
    transform: translateY(-25%) translateX(-50%);
    background: url("/assets/backgrounds/noise.png") top center/220px repeat,
      var(--hero-bg) center center / var(--bg-gradient-size) no-repeat,
      var(--gray-999);
    background-blend-mode: overlay, normal, normal, normal;
    mix-blend-mode: var(--bg-blend-mode);
    z-index: -1;
  }

  .with-background.bg-variant::before {
    --hero-bg: var(--bg-image-secondary-rainbow);
  }
</style>
